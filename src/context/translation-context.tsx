"use client";

import React, { createContext, useContext, useState, ReactNode, useEffect } from 'react';

type Language = 'en' | 'es';

interface TranslationContextType {
    language: Language;
    setLanguage: (lang: Language) => void;
    t: (key: string) => string;
}

const translations: Record<Language, Record<string, string>> = {
    en: {
        // Navigation
        dashboard: 'Dashboard',
        users: 'Users',
        visitors: 'Visitors',
        parking: 'Parking',
        security: 'Security',
        analytics: 'Analytics',
        settings: 'Settings',
        logout: 'Logout',
        management: 'Management',
        system: 'System',
        searchPlaceholder: 'Search...',
        searchVisitors: 'Search by visitor identity or host name...',
        visitorLogs: 'Visitor Logs',
        parkingControl: 'Parking Control',
        safetyInductions: 'Safety Inductions',
        lockdown: 'Lockdown',
        state: 'State',
        healthyIntegration: 'Healthy Integration',
        currentStatus: 'Status',
        authorizeVisit: 'Authorize Visit',
        newVisit: 'New Visit',
        exportData: 'Export Data',
        visitorName: 'Visitor Name',
        idNumber: 'ID Number',
        licensePlate: 'License Plate',
        validFrom: 'Valid From',
        validUntil: 'Valid Until',
        cancel: 'Cancel',
        processing: 'Processing...',
        host: 'Host',
        authorizedAccess: 'Authorized Access',
        statusFilter: 'Status Filter',
        allActivity: 'All Activity',
        deleteRecord: 'Delete Record',
        confirmDelete: 'Are you sure you want to remove this entry?',
        systemUsers: 'System Users',
        accessLevels: 'Manage system users and their access levels',
        createUser: 'Create User',
        incidentReports: 'Incident Reports',
        emergencies: 'Emergencies',
        activityPulse: 'Activity Pulse',
        recentAlerts: 'Recent Alerts',
        newNotif: 'New',
        archiveHistory: 'Archive History',
        loggedRecently: 'Logged recently',
        deleteVisitorRecord: 'Delete Visitor Record',
        deleteConfirmMsg: 'Are you sure you want to remove this entry? This action is permanent and will delete the entry history for this visitor.',
        adminUsers: 'Admin Users',
        allRoles: 'All Roles',
        adminRole: 'Admin',
        residentRole: 'Resident',
        securityRole: 'Security',
        role: 'Role',
        status: 'Status',
        created: 'Created',
        active: 'Active',
        inactive: 'Inactive',
        noUsersDetected: 'No users detected',
        clearFiltersMsg: 'Clear your filters to see more results.',
        searchUsers: 'Search users...',
        welcomeBack: 'Welcome Back',
        logInManage: 'Log in to manage your facility',
        emailAddress: 'Email Address',
        signIn: 'Sign In',
        authenticating: 'Authenticating...',
        noAccount: "Don't have an account?",
        createOne: 'Create one',
        visitDetails: 'Visit Details',
        visitId: 'Visit ID',
        companionCount: 'Companion Count',
        guests: 'Guests',
        parkingAssignment: 'Parking Assignment',
        noParkingAssigned: 'No parking assigned',
        entryTime: 'Entry Time',
        exitTime: 'Exit Time',
        identificationPhotos: 'Identification Photos',
        close: 'Close',
        noVehicle: 'No Vehicle',
        facilityAccess: 'Manage facility access logs and authorized visitors',
        systemHealthy: 'System Healthy',
        noNewNotifications: 'No new notifications',
        clearNotifications: 'Clear all notifications',
        newBadge: 'New',
        safety: 'Safety',
        // Dashboard
        centralDirector: 'Central Director',
        environmentRealTime: 'Environment Real-time Stream',
        activeNodes: 'Active Nodes',
        assetLoad: 'Asset Load',
        directoryCount: 'Directory Count',
        logicalSlots: 'Logical Slots',
        visualTelemetry: 'Visual Telemetry',
        hardwareVerificationLog: 'Hardware Verification Log',
        fullRegistry: 'Full Registry',
        coreHealth: 'Core Health',
        processingInfrastructure: 'Processing Infrastructure',
        systemNodeLoad: 'System Node Load',
        visionPrecision: 'Vision Precision',
        temporalLatency: 'Temporal Latency',
        healthReport: 'Health Report',
        // Reports
        analyticsReports: 'Analytics & Reports',
        deepDiveAccess: 'Deep dive into patterns and occupancy',
        downloadPDF: 'Download PDF',
        visitorTrends: 'Visitor Trends',
        occupancyStatus: 'Occupancy Status',
        preAuthorized: 'Pre-Authorized',
        smartPerception: 'Smart Perception',
        reviewInsights: 'Review Insights',
        // Settings
        systemDirector: 'System Director',
        coreConfiguration: 'Core Configuration & Security Policies',
        applyChanges: 'Apply Changes',
        localizationBranding: 'Localization & Branding',
        globalIdentity: 'Global identity and region synchronization',
        deploymentIdentity: 'Deployment Identity',
        activeLogicLanguage: 'Active Logic Language',
        englishUS: 'English (US Directive)',
        spanishDR: 'Spanish (Dominican Local)',
        securityProtocols: 'Security Protocols',
        automatedProtocols: 'Automated hardware and software permissions',
        lprAutonomous: 'LPR Autonomous Authorization',
        lprAutonomousDesc: 'Predictive gate activation based on hardware vision match.',
        badgingTunnel: 'Badging Virtual Tunnel',
        badgingTunnelDesc: 'Requires multi-factor host validation before asset emission.',
        systemPurgeDirective: 'System Purge Directive',
        systemPurgeDesc: 'EXTREME CAUTION: This operation will permanently flush all logical directories, history logs, and session caches.',
        executePurge: 'Execute Purge',
        purgeConfirmTitle: 'Purge System Data',
        purgeConfirmMsg: 'EXTREME CAUTION: You are about to delete ALL visits, logs, and temporary records. This action is irreversible.',
        confirmPurge: 'Confirm Purge',
        syncing: 'Syncing...',
        enterpriseGradeSecurity: 'Enterprise Grade Security',
        // Pricing Features
        upTo50Units: 'Up to 50 units',
        upTo100Parking: 'Up to 100 parking spots',
        twoAdmins: '2 Administrators (Monitors)',
        upTo5Guards: 'Up to 5 Security Guards',
        basicVisitorMgmt: 'Basic Visitor Management',
        qrAccessControl: 'QR Access Control',
        upTo200Units: 'Up to 200 units',
        upTo400Parking: 'Up to 400 parking spots',
        fiveAdmins: '5 Administrators (Monitors)',
        upTo15Guards: 'Up to 15 Security Guards',
        sosSystem: 'SOS System & Alerts',
        advancedReports: 'Advanced Reports',
        prioritySupport: '24/7 Priority Support',
        unlimitedUnits: 'Unlimited Units & Parking',
        unlimitedAdmins: 'Unlimited Administrators',
        unlimitedSecurity: 'Unlimited Security Staff',
        dedicatedDbData: 'Dedicated Database (Single Tenant)',
        lprIntegration: 'LPR Integration (License Plate Reading)',
        brandCustomization: 'Brand Customization',
        hardwareIntegration: 'External Hardware Integration',
        // Landing Page
        featuresParams: 'Features',
        pricing: 'Pricing',
        customerPortal: 'Customer Portal',
        secureAccess: 'Secure Access',
        redefined: 'Redefined.',
        heroSubtitle: 'The next-generation access control platform for modern residential complexes. Seamless integration, bank-grade encryption, and real-time monitoring.',
        getStarted: 'Get Started',
        viewDemo: 'View Demo',
        activeUsers: 'Active Users',
        uptimeSLA: 'Uptime SLA',
        countries: 'Countries',
        everythingYouNeed: 'Everything you need',
        featuresSubtitle: 'Powerful features designed specificlly for security professionals and property managers.',
        bankGradeEncryption: 'Bank-Grade Encryption',
        bankGradeEncryptionDesc: 'End-to-end encryption for all data transit and storage.',
        realTimeAnalytics: 'Real-time Analytics',
        realTimeAnalyticsDesc: 'Live monitoring of access logs and security events.',
        globalCDN: 'Global CDN',
        globalCDNDesc: 'Lightning fast access from anywhere in the world.',
        mobileFirst: 'Mobile First',
        mobileFirstDesc: 'Native apps for iOS and Android with offline support.',
        roleManagement: 'Role Management',
        roleManagementDesc: 'Granular access controls and permission hierarchies.',
        dedicatedDatabase: 'Dedicated Database',
        dedicatedDatabaseDesc: 'Isolated instances for Elite customers.',
        simplePricing: 'Simple, transparent pricing',
        simplePricingSubtitle: 'Choose the perfect plan for your community. No hidden fees.',
        mostPopular: 'Most Popular',
        starterPlan: 'Starter',
        starterDesc: 'Ideal for small condos or growing residentials.',
        starterButton: 'Start with Starter',
        premiumPlan: 'Premium',
        premiumDesc: 'Everything needed for professional security management.',
        premiumButton: 'Choose Premium',
        elitePlan: 'Elite',
        eliteDesc: 'For large complexes requiring maximum customization.',
        eliteButton: 'Contact Sales',
        perMonth: '/mo',
        footerRights: '© 2026 COSEVI Infrastructure. All rights reserved.',
        privacyPolicy: 'Privacy Policy',
        termsOfService: 'Terms of Service',
        contactSupport: 'Contact Support',
        backToHome: 'Back to Home',
        // Safety
        safetyAccessControl: 'Safety & Access Control',
        manageAccessRecords: 'Manage access records and visitor authorizations.',
        newAccessRecord: 'New Access Record',
        completedVisits: 'Completed Visits',
        activeNow: 'Active Now',
        pendingApproval: 'Pending Approval',
        accessRecords: 'Access Records',
        noAccessRecordsFound: 'No access records found',
        adjustSearchFilters: 'Try adjusting your search filters above.',
        deleteSafetyRecord: 'Delete Safety Record',
        deleteSafetyRecordMsg: 'Are you sure you want to permanently delete this access log?',
        visitorNameRequired: 'Name is required',
        idNumberRequired: 'ID Number is required',
        licensePlateRequired: 'License plate is required',
        creating: 'Creating...',
        createRecord: 'Create Record',
        // User Management
        createNewUser: 'Create New User',
        editUser: 'Edit User',
        addUserSystemMsg: 'Add a new user to the system. They will be able to login with these credentials.',
        updateUserMsg: 'Update user information. Leave password empty to keep current password.',
        personalInformation: 'Personal Information',
        fullName: 'Full Name',
        profileImage: 'Profile Image',
        updatePhoto: 'Update Photo',
        phone: 'Phone',
        dob: 'Date of Birth',
        accountDetails: 'Account Details',
        email: 'Email',
        password: 'Password',
        passwordPlaceholder: 'Min. 6 characters',
        passwordKeepMsg: 'Leave empty to keep current',
        selectRole: 'Select role',
        residency: 'Residency',
        unitNumber: 'Unit Number',
        assignParkingSpots: 'Assign Parking Spots',
        assignedParkingSpots: 'Assigned Parking Spots',
        noAvailableSpots: 'No available spots',
        activeAccount: 'Active Account',
        allowLoginMsg: 'Allow user to log in',
        userCreated: 'User created',
        userUpdated: 'User updated',
        successCreateMsg: 'has been successfully created.',
        successUpdateMsg: 'has been successfully updated.',
        error: 'Error',
        failedCreateUser: 'Failed to create user',
        failedUpdateUser: 'Failed to update user',
        failedUploadImage: 'Failed to upload image',
        fixed: 'Fixed',
        current: 'Current',
        saveChanges: 'Save Changes',
        optional: 'Optional',
        showing: 'Showing',
        of: 'of',
        identification: 'ID',
        telephone: 'Tel',
        userAvatar: 'User avatar',
    },
    es: {
        // Navigation
        dashboard: 'Tablero',
        users: 'Usuarios',
        visitors: 'Visitantes',
        parking: 'Estacionamiento',
        security: 'Seguridad',
        analytics: 'Análisis',
        settings: 'Configuración',
        logout: 'Cerrar Sesión',
        management: 'Gestión',
        system: 'Sistema',
        searchPlaceholder: 'Buscar...',
        searchVisitors: 'Buscar por identidad o anfitrión...',
        visitorLogs: 'Registros de Visitas',
        parkingControl: 'Control de Parking',
        safetyInductions: 'Inducciones de Seguridad',
        lockdown: 'Bloqueo',
        state: 'Estado',
        healthyIntegration: 'Integración Saludable',
        currentStatus: 'Estado',
        authorizeVisit: 'Autorizar Visita',
        newVisit: 'Nueva Visita',
        exportData: 'Exportar Datos',
        visitorName: 'Nombre del Visitante',
        idNumber: 'Número de ID',
        licensePlate: 'Placa / Matrícula',
        validFrom: 'Válido Desde',
        validUntil: 'Válido Hasta',
        cancel: 'Cancelar',
        processing: 'Procesando...',
        host: 'Anfitrión',
        authorizedAccess: 'Acceso Autorizado',
        statusFilter: 'Filtro de Estado',
        allActivity: 'Toda la Actividad',
        deleteRecord: 'Eliminar Registro',
        confirmDelete: '¿Está seguro de que desea eliminar esta entrada?',
        systemUsers: 'Usuarios del Sistema',
        accessLevels: 'Gestionar usuarios del sistema y sus niveles de acceso',
        createUser: 'Crear Usuario',
        incidentReports: 'Reportes de Incidentes',
        emergencies: 'Emergencias',
        activityPulse: 'Pulso de Actividad',
        recentAlerts: 'Alertas Recientes',
        newNotif: 'Nuevas',
        archiveHistory: 'Archivar Historial',
        loggedRecently: 'Registrado hace poco',
        deleteVisitorRecord: 'Eliminar Registro de Visitante',
        deleteConfirmMsg: '¿Está seguro de que desea eliminar esta entrada? Esta acción es permanente y eliminará el historial de ingreso para este visitante.',
        adminUsers: 'Usuarios Admin',
        allRoles: 'Todos los Roles',
        adminRole: 'Administrador',
        residentRole: 'Residente',
        securityRole: 'Seguridad',
        role: 'Rol',
        status: 'Estado',
        created: 'Creado',
        active: 'Activo',
        inactive: 'Inactivo',
        noUsersDetected: 'No se detectaron usuarios',
        clearFiltersMsg: 'Borre sus filtros para ver más resultados.',
        searchUsers: 'Buscar usuarios...',
        welcomeBack: 'Bienvenido',
        logInManage: 'Inicie sesión para gestionar su instalación',
        emailAddress: 'Correo Electrónico',
        signIn: 'Iniciar Sesión',
        authenticating: 'Autenticando...',
        noAccount: "¿No tiene una cuenta?",
        createOne: 'Cree una',
        visitDetails: 'Detalles de la Visita',
        visitId: 'ID de Visita',
        companionCount: 'Cant. Acompañantes',
        guests: 'Invitados',
        parkingAssignment: 'Asignación de Parqueo',
        noParkingAssigned: 'Sin parqueo asignado',
        entryTime: 'Hora de Entrada',
        exitTime: 'Hora de Salida',
        identificationPhotos: 'Fotos de Identificación',
        close: 'Cerrar',
        noVehicle: 'Sin Vehículo',
        facilityAccess: 'Gestione registros de acceso y visitantes autorizados',
        systemHealthy: 'Sistema Saludable',
        noNewNotifications: 'No hay notificaciones nuevas',
        clearNotifications: 'Limpiar notificaciones',
        newBadge: 'Nuevas',
        safety: 'Seguridad',
        // Dashboard
        centralDirector: 'Director Central',
        environmentRealTime: 'Flujo en Tiempo Real',
        activeNodes: 'Nodos Activos',
        assetLoad: 'Carga de Activos',
        directoryCount: 'Conteo de Directorio',
        logicalSlots: 'Espacios Lógicos',
        visualTelemetry: 'Telemetría Visual',
        hardwareVerificationLog: 'Log de Verificación de Hardware',
        fullRegistry: 'Registro Completo',
        coreHealth: 'Salud del Núcleo',
        processingInfrastructure: 'Infraestructura de Procesamiento',
        systemNodeLoad: 'Carga de Nodos del Sistema',
        visionPrecision: 'Precisión de Visión',
        temporalLatency: 'Latencia Temporal',
        healthReport: 'Reporte de Salud',
        // Reports
        analyticsReports: 'Análisis y Reportes',
        deepDiveAccess: 'Análisis profundo de patrones y ocupación',
        downloadPDF: 'Descargar PDF',
        visitorTrends: 'Tendencias de Visitantes',
        occupancyStatus: 'Estado de Ocupación',
        preAuthorized: 'Pre-Autorizado',
        smartPerception: 'Percepción Inteligente',
        reviewInsights: 'Revisar Insights',
        // Settings
        systemDirector: 'Director del Sistema',
        coreConfiguration: 'Configuración Núcleo y Políticas',
        applyChanges: 'Aplicar Cambios',
        localizationBranding: 'Localización e Identidad',
        globalIdentity: 'Identidad global y sincronización',
        deploymentIdentity: 'Identidad de Despliegue',
        activeLogicLanguage: 'Idioma de Lógica Activa',
        englishUS: 'Inglés (Directiva EE.UU.)',
        spanishDR: 'Español (Local Dominicano)',
        securityProtocols: 'Protocolos de Seguridad',
        automatedProtocols: 'Permisos de hardware y software',
        lprAutonomous: 'Autorización Autónoma LPR',
        lprAutonomousDesc: 'Activación predictiva de portón por visión.',
        badgingTunnel: 'Túnel Virtual de Acreditación',
        badgingTunnelDesc: 'Requiere validación multifactor.',
        systemPurgeDirective: 'Directiva de Purga del Sistema',
        systemPurgeDesc: 'PRECAUCIÓN EXTREMA: Esta operación eliminará registros permanentemente.',
        executePurge: 'Ejecutar Purga',
        purgeConfirmTitle: 'Purgar Datos del Sistema',
        purgeConfirmMsg: 'PRECAUCIÓN EXTREMA: Está a punto de eliminar TODOS los registros. Esta acción es irreversible.',
        confirmPurge: 'Confirmar Purga',
        syncing: 'Sincronizando...',
        // Landing Page
        featuresParams: 'Características',
        pricing: 'Precios',
        customerPortal: 'Portal de Clientes',
        secureAccess: 'Acceso Seguro',
        redefined: 'Redefinido.',
        heroSubtitle: 'La plataforma de control de acceso de próxima generación para complejos residenciales modernos. Integración perfecta, encriptación y monitoreo en tiempo real.',
        getStarted: 'Empezar Ahora',
        viewDemo: 'Ver Demo',
        activeUsers: 'Usuarios Activos',
        uptimeSLA: 'SLA de Tiempo de Actividad',
        countries: 'Países',
        everythingYouNeed: 'Todo lo que necesitas',
        featuresSubtitle: 'Características potentes diseñadas para profesionales de seguridad y administradores de propiedades.',
        bankGradeEncryption: 'Encriptación',
        bankGradeEncryptionDesc: 'Encriptación de extremo a extremo para todo el tránsito y almacenamiento de datos.',
        realTimeAnalytics: 'Análisis en Tiempo Real',
        realTimeAnalyticsDesc: 'Monitoreo en vivo de registros de acceso y eventos de seguridad.',
        globalCDN: 'CDN Global',
        globalCDNDesc: 'Acceso ultrarrápido desde cualquier lugar del mundo.',
        mobileFirst: 'Mobile First',
        mobileFirstDesc: 'Apps nativas para iOS y Android con soporte offline.',
        roleManagement: 'Gestión de Roles',
        roleManagementDesc: 'Controles de acceso granulares y jerarquías de permisos.',
        dedicatedDatabase: 'Base de Datos Dedicada',
        dedicatedDatabaseDesc: 'Instancias aisladas para clientes Elite.',
        simplePricing: 'Precios simples y transparentes',
        simplePricingSubtitle: 'Elija el plan perfecto para su comunidad. Sin tarifas ocultas.',
        mostPopular: 'Más Popular',
        starterPlan: 'Starter',
        starterDesc: 'Ideal para condominios pequeños o residenciales en crecimiento.',
        starterButton: 'Empezar con Starter',
        premiumPlan: 'Premium',
        premiumDesc: 'Todo lo necesario para una gestión de seguridad profesional y eficiente.',
        premiumButton: 'Elegir Premium',
        elitePlan: 'Elite',
        eliteDesc: 'Para grandes complejos que requieren máxima personalización.',
        eliteButton: 'Contactar Ventas',
        perMonth: '/mes',
        footerRights: '© 2026 COSEVI Infrastructure. Todos los derechos reservados.',
        privacyPolicy: 'Política de Privacidad',
        termsOfService: 'Términos de Servicio',
        contactSupport: 'Contactar Soporte',
        backToHome: 'Volver al Inicio',
        enterpriseGradeSecurity: 'Seguridad de Grado Empresarial',
        // Pricing Features
        upTo50Units: 'Hasta 50 unidades',
        upTo100Parking: 'Hasta 100 parqueos',
        twoAdmins: '2 Administradores (Monitores)',
        upTo5Guards: 'Hasta 5 Guardias de Seguridad',
        basicVisitorMgmt: 'Gestión de Visitas Básica',
        qrAccessControl: 'Control de Acceso QR',
        upTo200Units: 'Hasta 200 unidades',
        upTo400Parking: 'Hasta 400 parqueos',
        fiveAdmins: '5 Administradores (Monitores)',
        upTo15Guards: 'Hasta 15 Guardias de Seguridad',
        sosSystem: 'Sistema SOS y Alertas',
        advancedReports: 'Reportes Avanzados',
        prioritySupport: 'Soporte Prioritario 24/7',
        unlimitedUnits: 'Unidades y Parqueos ilimitados',
        unlimitedAdmins: 'Administradores ilimitados',
        unlimitedSecurity: 'Seguridad ilimitada',
        dedicatedDbData: 'Base de datos dedicada (Single Tenant)',
        lprIntegration: 'Integración LPR (Lectura de Placas)',
        brandCustomization: 'Personalización de Marca',
        hardwareIntegration: 'Integración con Hardware Externo',
        // Safety
        safetyAccessControl: 'Seguridad y Control de Acceso',
        manageAccessRecords: 'Gestionar registros de acceso y autorizaciones.',
        newAccessRecord: 'Nuevo Registro de Acceso',
        completedVisits: 'Visitas Completadas',
        activeNow: 'Activos Ahora',
        pendingApproval: 'Pendiente de Aprobación',
        accessRecords: 'Registros de Acceso',
        noAccessRecordsFound: 'No se encontraron registros de acceso',
        adjustSearchFilters: 'Intente ajustar sus filtros de búsqueda.',
        deleteSafetyRecord: 'Eliminar Registro de Seguridad',
        deleteSafetyRecordMsg: '¿Está seguro de que desea eliminar permanentemente este log de acceso?',
        visitorNameRequired: 'El nombre es obligatorio',
        idNumberRequired: 'La identificación es obligatoria',
        licensePlateRequired: 'La placa es obligatoria',
        creating: 'Creando...',
        createRecord: 'Crear Registro',
        // Gestión de Usuarios
        createNewUser: 'Crear Nuevo Usuario',
        editUser: 'Editar Usuario',
        addUserSystemMsg: 'Agregue un nuevo usuario al sistema. Podrá iniciar sesión con estas credenciales.',
        updateUserMsg: 'Actualice la información del usuario. Deje la contraseña vacía para mantener la actual.',
        personalInformation: 'Información Personal',
        fullName: 'Nombre Completo',
        profileImage: 'Imagen de Perfil',
        updatePhoto: 'Actualizar Foto',
        phone: 'Teléfono',
        dob: 'Fecha de Nacimiento',
        accountDetails: 'Detalles de la Cuenta',
        email: 'Correo',
        password: 'Contraseña',
        passwordPlaceholder: 'Mín. 6 caracteres',
        passwordKeepMsg: 'Dejar vacío para mantener actual',
        selectRole: 'Seleccionar rol',
        residency: 'Residencia',
        unitNumber: 'Número de Unidad',
        assignParkingSpots: 'Asignar Espacios de Parqueo',
        assignedParkingSpots: 'Espacios de Parqueo Asignados',
        noAvailableSpots: 'No hay espacios disponibles',
        activeAccount: 'Cuenta Activa',
        allowLoginMsg: 'Permitir al usuario iniciar sesión',
        userCreated: 'Usuario creado',
        userUpdated: 'Usuario actualizado',
        successCreateMsg: 'ha sido creado exitosamente.',
        successUpdateMsg: 'ha sido actualizado exitosamente.',
        error: 'Error',
        failedCreateUser: 'Error al crear usuario',
        failedUpdateUser: 'Error al actualizar usuario',
        failedUploadImage: 'Error al subir imagen',
        fixed: 'Fijo',
        current: 'Actual',
        saveChanges: 'Guardar Cambios',
        optional: 'Opcional',
        showing: 'Mostrando',
        of: 'de',
        identification: 'ID',
        telephone: 'Tel',
        userAvatar: 'Avatar de usuario',
    }
};

const TranslationContext = createContext<TranslationContextType | undefined>(undefined);

export function TranslationProvider({ children }: { children: ReactNode }) {
    const [language, setLanguageState] = useState<Language>('en');

    useEffect(() => {
        const savedLanguage = localStorage.getItem('language') as Language;
        if (savedLanguage) {
            setLanguageState(savedLanguage);
        }
    }, []);

    const setLanguage = (lang: Language) => {
        setLanguageState(lang);
        localStorage.setItem('language', lang);
    };

    const t = (key: string): string => {
        return translations[language][key] || key;
    };

    return (
        <TranslationContext.Provider value={{ language, setLanguage, t }}>
            {children}
        </TranslationContext.Provider>
    );
}

export function useTranslation() {
    const context = useContext(TranslationContext);
    if (context === undefined) {
        throw new Error('useTranslation must be used within a TranslationProvider');
    }
    return context;
}